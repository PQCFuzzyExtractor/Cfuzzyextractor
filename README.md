========================================================================
  C언어 기반 Shortened BCH 퍼지 추출기 (Fuzzy Extractor)
========================================================================

1. 개요
본 프로젝트는 리눅스 커널(Linux Kernel)에서 사용되는 고성능 BCH 라이브러리를
윈도우/표준 C 환경으로 포팅(Porting)하여 구현한 '생체인증용 퍼지 추출기'입니다.

생체 정보(Biometric Data)와 같이 노이즈가 발생하는 데이터에서
안정적인 비밀키(Secret Key)를 생성하고 복구하는 'Secure Sketch' 알고리즘을 수행합니다.

- 기반 코드: Linux Kernel lib/bch.c (via Parrot-Developers)
- 알고리즘: BCH (Bose-Chaudhuri-Hocquenghem) Code
- 파라미터: m=12, t=64 (4095비트 블록 중 최대 64비트 오류 정정)
- 데이터 규격: Data(340 Byte) + ECC(96 Byte) = Total(436 Byte)

========================================================================
2. 파일 구조
========================================================================

C_FUZZY/ (Project Root)
│
├── CMakeLists.txt        # [빌드] CMake 설정 파일 (프로젝트 조립 설계도)
├── README.txt            # [문서] 프로젝트 설명 및 사용법
│
├── lib/                  # [엔진] 리눅스 커널 기반 BCH 라이브러리
│   ├── bch.c             # BCH 알고리즘 핵심 연산 (수학적 구현)
│   ├── bch.h             # BCH 제어 구조체 정의 및 함수 선언
│   └── win_compat.h      # 윈도우/표준 C 호환성 패치 (리눅스 헤더 대체)
│
└── src/                  # [본체] 퍼지 추출기 로직 및 테스트
    ├── bch_wrapper.c     # Shortening(단축) 및 Zero-Padding 구현
    ├── bch_wrapper.h     # 데이터 크기 상수(340B) 및 래퍼 함수 선언
    ├── fe_core.c         # Fuzzy Extractor 핵심 (Gen/Rep, Hashing) 구현
    ├── fe_core.h         # 외부 연동용 API 헤더
    └── main.c            # 시나리오 테스트 (등록->노이즈->복구 검증)

========================================================================
3. 빌드 및 실행 방법
========================================================================

[필수 요구사항]
- GCC 컴파일러 (MinGW 등)
- CMake (3.10 버전 이상)

[단계별 명령어]
터미널(VS Code 등)에서 프로젝트 폴더로 이동 후 아래 순서대로 입력하세요.

1. 빌드 디렉터리 생성
   > mkdir build
   > cd build

2. CMake 설정 (MinGW Makefiles 사용 시)
   > cmake -G "MinGW Makefiles" ..

3. 컴파일 실행
   > cmake --build .

4. 프로그램 실행
   > ./fe_system.exe

========================================================================
4. 주요 기능 및 API
========================================================================
이 라이브러리를 다른 프로젝트에 통합할 때는 'src/fe_core.h'를 include 하여 사용합니다.

1. FE_Init()
   - BCH 엔진을 초기화하고 메모리를 할당합니다.

2. FE_Gen(input, helper, key)
   - [등록 단계] 생체 템플릿(input)을 받아 헬퍼 데이터(helper)와 비밀키(key)를 생성합니다.

3. FE_Rep(noisy_input, helper, key)
   - [인증 단계] 노이즈가 섞인 템플릿(noisy_input)과 헬퍼(helper)를 이용해 원본 키(key) 복구를 시도합니다.
   - 반환값: 정정된 비트 수 (실패 시 -1 반환)

4. FE_Free()
   - 사용된 메모리를 해제합니다.

========================================================================
5. 라이선스 및 참고
========================================================================
- BCH Engine Source: Based on Linux Kernel (GPL) & Parrot-Developers/bch
- Ported & Modified by: [Your Name / Team Name]